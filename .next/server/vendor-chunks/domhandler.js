"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/domhandler";
exports.ids = ["vendor-chunks/domhandler"];
exports.modules = {

/***/ "(rsc)/./node_modules/domhandler/lib/index.js":
/*!**********************************************!*\
  !*** ./node_modules/domhandler/lib/index.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = this && this.__createBinding || (Object.create ? function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n        desc = {\n            enumerable: true,\n            get: function() {\n                return m[k];\n            }\n        };\n    }\n    Object.defineProperty(o, k2, desc);\n} : function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n});\nvar __exportStar = this && this.__exportStar || function(m, exports1) {\n    for(var p in m)if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports1, p)) __createBinding(exports1, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.DomHandler = void 0;\nvar domelementtype_1 = __webpack_require__(/*! domelementtype */ \"(rsc)/./node_modules/domelementtype/lib/index.js\");\nvar node_js_1 = __webpack_require__(/*! ./node.js */ \"(rsc)/./node_modules/domhandler/lib/node.js\");\n__exportStar(__webpack_require__(/*! ./node.js */ \"(rsc)/./node_modules/domhandler/lib/node.js\"), exports);\n// Default options\nvar defaultOpts = {\n    withStartIndices: false,\n    withEndIndices: false,\n    xmlMode: false\n};\nvar DomHandler = /** @class */ function() {\n    /**\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */ function DomHandler(callback, options, elementCB) {\n        /** The elements of the DOM */ this.dom = [];\n        /** The root element for the DOM */ this.root = new node_js_1.Document(this.dom);\n        /** Indicated whether parsing has been completed. */ this.done = false;\n        /** Stack of open tags. */ this.tagStack = [\n            this.root\n        ];\n        /** A data node that is still being written to. */ this.lastNode = null;\n        /** Reference to the parser instance. Used for location information. */ this.parser = null;\n        // Make it possible to skip arguments, for backwards-compatibility\n        if (typeof options === \"function\") {\n            elementCB = options;\n            options = defaultOpts;\n        }\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n        this.callback = callback !== null && callback !== void 0 ? callback : null;\n        this.options = options !== null && options !== void 0 ? options : defaultOpts;\n        this.elementCB = elementCB !== null && elementCB !== void 0 ? elementCB : null;\n    }\n    DomHandler.prototype.onparserinit = function(parser) {\n        this.parser = parser;\n    };\n    // Resets the handler back to starting state\n    DomHandler.prototype.onreset = function() {\n        this.dom = [];\n        this.root = new node_js_1.Document(this.dom);\n        this.done = false;\n        this.tagStack = [\n            this.root\n        ];\n        this.lastNode = null;\n        this.parser = null;\n    };\n    // Signals the handler that parsing is done\n    DomHandler.prototype.onend = function() {\n        if (this.done) return;\n        this.done = true;\n        this.parser = null;\n        this.handleCallback(null);\n    };\n    DomHandler.prototype.onerror = function(error) {\n        this.handleCallback(error);\n    };\n    DomHandler.prototype.onclosetag = function() {\n        this.lastNode = null;\n        var elem = this.tagStack.pop();\n        if (this.options.withEndIndices) {\n            elem.endIndex = this.parser.endIndex;\n        }\n        if (this.elementCB) this.elementCB(elem);\n    };\n    DomHandler.prototype.onopentag = function(name, attribs) {\n        var type = this.options.xmlMode ? domelementtype_1.ElementType.Tag : undefined;\n        var element = new node_js_1.Element(name, attribs, undefined, type);\n        this.addNode(element);\n        this.tagStack.push(element);\n    };\n    DomHandler.prototype.ontext = function(data) {\n        var lastNode = this.lastNode;\n        if (lastNode && lastNode.type === domelementtype_1.ElementType.Text) {\n            lastNode.data += data;\n            if (this.options.withEndIndices) {\n                lastNode.endIndex = this.parser.endIndex;\n            }\n        } else {\n            var node = new node_js_1.Text(data);\n            this.addNode(node);\n            this.lastNode = node;\n        }\n    };\n    DomHandler.prototype.oncomment = function(data) {\n        if (this.lastNode && this.lastNode.type === domelementtype_1.ElementType.Comment) {\n            this.lastNode.data += data;\n            return;\n        }\n        var node = new node_js_1.Comment(data);\n        this.addNode(node);\n        this.lastNode = node;\n    };\n    DomHandler.prototype.oncommentend = function() {\n        this.lastNode = null;\n    };\n    DomHandler.prototype.oncdatastart = function() {\n        var text = new node_js_1.Text(\"\");\n        var node = new node_js_1.CDATA([\n            text\n        ]);\n        this.addNode(node);\n        text.parent = node;\n        this.lastNode = text;\n    };\n    DomHandler.prototype.oncdataend = function() {\n        this.lastNode = null;\n    };\n    DomHandler.prototype.onprocessinginstruction = function(name, data) {\n        var node = new node_js_1.ProcessingInstruction(name, data);\n        this.addNode(node);\n    };\n    DomHandler.prototype.handleCallback = function(error) {\n        if (typeof this.callback === \"function\") {\n            this.callback(error, this.dom);\n        } else if (error) {\n            throw error;\n        }\n    };\n    DomHandler.prototype.addNode = function(node) {\n        var parent = this.tagStack[this.tagStack.length - 1];\n        var previousSibling = parent.children[parent.children.length - 1];\n        if (this.options.withStartIndices) {\n            node.startIndex = this.parser.startIndex;\n        }\n        if (this.options.withEndIndices) {\n            node.endIndex = this.parser.endIndex;\n        }\n        parent.children.push(node);\n        if (previousSibling) {\n            node.prev = previousSibling;\n            previousSibling.next = node;\n        }\n        node.parent = parent;\n        this.lastNode = null;\n    };\n    return DomHandler;\n}();\nexports.DomHandler = DomHandler;\nexports[\"default\"] = DomHandler;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9taGFuZGxlci9saWIvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxrQkFBa0IsSUFBSyxJQUFJLElBQUksQ0FBQ0EsZUFBZSxJQUFNQyxDQUFBQSxPQUFPQyxNQUFNLEdBQUksU0FBU0MsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsRUFBRTtJQUMxRixJQUFJQSxPQUFPQyxXQUFXRCxLQUFLRDtJQUMzQixJQUFJRyxPQUFPUCxPQUFPUSx3QkFBd0IsQ0FBQ0wsR0FBR0M7SUFDOUMsSUFBSSxDQUFDRyxRQUFTLFVBQVNBLE9BQU8sQ0FBQ0osRUFBRU0sVUFBVSxHQUFHRixLQUFLRyxRQUFRLElBQUlILEtBQUtJLFlBQVksR0FBRztRQUNqRkosT0FBTztZQUFFSyxZQUFZO1lBQU1DLEtBQUs7Z0JBQWEsT0FBT1YsQ0FBQyxDQUFDQyxFQUFFO1lBQUU7UUFBRTtJQUM5RDtJQUNBSixPQUFPYyxjQUFjLENBQUNaLEdBQUdHLElBQUlFO0FBQ2pDLElBQU0sU0FBU0wsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsRUFBRTtJQUN0QixJQUFJQSxPQUFPQyxXQUFXRCxLQUFLRDtJQUMzQkYsQ0FBQyxDQUFDRyxHQUFHLEdBQUdGLENBQUMsQ0FBQ0MsRUFBRTtBQUNoQixDQUFDO0FBQ0QsSUFBSVcsZUFBZSxJQUFLLElBQUksSUFBSSxDQUFDQSxZQUFZLElBQUssU0FBU1osQ0FBQyxFQUFFYSxRQUFPO0lBQ2pFLElBQUssSUFBSUMsS0FBS2QsRUFBRyxJQUFJYyxNQUFNLGFBQWEsQ0FBQ2pCLE9BQU9rQixTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDSixVQUFTQyxJQUFJbEIsZ0JBQWdCaUIsVUFBU2IsR0FBR2M7QUFDM0g7QUFDQWpCLDhDQUE2QztJQUFFcUIsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3REwsa0JBQWtCLEdBQUcsS0FBSztBQUMxQixJQUFJTyxtQkFBbUJD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QzNDLE9BQU8sQ0FBQ0osZ0JBQWdCLEVBQUU7WUFDL0JvQyxLQUFLYyxVQUFVLEdBQUcsSUFBSSxDQUFDdEMsTUFBTSxDQUFDc0MsVUFBVTtRQUM1QztRQUNBLElBQUksSUFBSSxDQUFDOUMsT0FBTyxDQUFDSCxjQUFjLEVBQUU7WUFDN0JtQyxLQUFLZCxRQUFRLEdBQUcsSUFBSSxDQUFDVixNQUFNLENBQUNVLFFBQVE7UUFDeEM7UUFDQXFCLE9BQU9NLFFBQVEsQ0FBQ2pCLElBQUksQ0FBQ0k7UUFDckIsSUFBSVksaUJBQWlCO1lBQ2pCWixLQUFLZSxJQUFJLEdBQUdIO1lBQ1pBLGdCQUFnQkksSUFBSSxHQUFHaEI7UUFDM0I7UUFDQUEsS0FBS08sTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ2hDLFFBQVEsR0FBRztJQUNwQjtJQUNBLE9BQU9oQjtBQUNYO0FBQ0FOLGtCQUFrQixHQUFHTTtBQUNyQk4sa0JBQWUsR0FBR00iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWJsb2cvLi9ub2RlX21vZHVsZXMvZG9taGFuZGxlci9saWIvaW5kZXguanM/Mjk4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Eb21IYW5kbGVyID0gdm9pZCAwO1xudmFyIGRvbWVsZW1lbnR0eXBlXzEgPSByZXF1aXJlKFwiZG9tZWxlbWVudHR5cGVcIik7XG52YXIgbm9kZV9qc18xID0gcmVxdWlyZShcIi4vbm9kZS5qc1wiKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9ub2RlLmpzXCIpLCBleHBvcnRzKTtcbi8vIERlZmF1bHQgb3B0aW9uc1xudmFyIGRlZmF1bHRPcHRzID0ge1xuICAgIHdpdGhTdGFydEluZGljZXM6IGZhbHNlLFxuICAgIHdpdGhFbmRJbmRpY2VzOiBmYWxzZSxcbiAgICB4bWxNb2RlOiBmYWxzZSxcbn07XG52YXIgRG9tSGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgQ2FsbGVkIG9uY2UgcGFyc2luZyBoYXMgY29tcGxldGVkLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIFNldHRpbmdzIGZvciB0aGUgaGFuZGxlci5cbiAgICAgKiBAcGFyYW0gZWxlbWVudENCIENhbGxiYWNrIHdoZW5ldmVyIGEgdGFnIGlzIGNsb3NlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEb21IYW5kbGVyKGNhbGxiYWNrLCBvcHRpb25zLCBlbGVtZW50Q0IpIHtcbiAgICAgICAgLyoqIFRoZSBlbGVtZW50cyBvZiB0aGUgRE9NICovXG4gICAgICAgIHRoaXMuZG9tID0gW107XG4gICAgICAgIC8qKiBUaGUgcm9vdCBlbGVtZW50IGZvciB0aGUgRE9NICovXG4gICAgICAgIHRoaXMucm9vdCA9IG5ldyBub2RlX2pzXzEuRG9jdW1lbnQodGhpcy5kb20pO1xuICAgICAgICAvKiogSW5kaWNhdGVkIHdoZXRoZXIgcGFyc2luZyBoYXMgYmVlbiBjb21wbGV0ZWQuICovXG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICAvKiogU3RhY2sgb2Ygb3BlbiB0YWdzLiAqL1xuICAgICAgICB0aGlzLnRhZ1N0YWNrID0gW3RoaXMucm9vdF07XG4gICAgICAgIC8qKiBBIGRhdGEgbm9kZSB0aGF0IGlzIHN0aWxsIGJlaW5nIHdyaXR0ZW4gdG8uICovXG4gICAgICAgIHRoaXMubGFzdE5vZGUgPSBudWxsO1xuICAgICAgICAvKiogUmVmZXJlbmNlIHRvIHRoZSBwYXJzZXIgaW5zdGFuY2UuIFVzZWQgZm9yIGxvY2F0aW9uIGluZm9ybWF0aW9uLiAqL1xuICAgICAgICB0aGlzLnBhcnNlciA9IG51bGw7XG4gICAgICAgIC8vIE1ha2UgaXQgcG9zc2libGUgdG8gc2tpcCBhcmd1bWVudHMsIGZvciBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgZWxlbWVudENCID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSBkZWZhdWx0T3B0cztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gY2FsbGJhY2s7XG4gICAgICAgICAgICBjYWxsYmFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2sgIT09IG51bGwgJiYgY2FsbGJhY2sgIT09IHZvaWQgMCA/IGNhbGxiYWNrIDogbnVsbDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgPyBvcHRpb25zIDogZGVmYXVsdE9wdHM7XG4gICAgICAgIHRoaXMuZWxlbWVudENCID0gZWxlbWVudENCICE9PSBudWxsICYmIGVsZW1lbnRDQiAhPT0gdm9pZCAwID8gZWxlbWVudENCIDogbnVsbDtcbiAgICB9XG4gICAgRG9tSGFuZGxlci5wcm90b3R5cGUub25wYXJzZXJpbml0ID0gZnVuY3Rpb24gKHBhcnNlcikge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICB9O1xuICAgIC8vIFJlc2V0cyB0aGUgaGFuZGxlciBiYWNrIHRvIHN0YXJ0aW5nIHN0YXRlXG4gICAgRG9tSGFuZGxlci5wcm90b3R5cGUub25yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kb20gPSBbXTtcbiAgICAgICAgdGhpcy5yb290ID0gbmV3IG5vZGVfanNfMS5Eb2N1bWVudCh0aGlzLmRvbSk7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRhZ1N0YWNrID0gW3RoaXMucm9vdF07XG4gICAgICAgIHRoaXMubGFzdE5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLnBhcnNlciA9IG51bGw7XG4gICAgfTtcbiAgICAvLyBTaWduYWxzIHRoZSBoYW5kbGVyIHRoYXQgcGFyc2luZyBpcyBkb25lXG4gICAgRG9tSGFuZGxlci5wcm90b3R5cGUub25lbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRvbmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgIHRoaXMucGFyc2VyID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYW5kbGVDYWxsYmFjayhudWxsKTtcbiAgICB9O1xuICAgIERvbUhhbmRsZXIucHJvdG90eXBlLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVDYWxsYmFjayhlcnJvcik7XG4gICAgfTtcbiAgICBEb21IYW5kbGVyLnByb3RvdHlwZS5vbmNsb3NldGFnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxhc3ROb2RlID0gbnVsbDtcbiAgICAgICAgdmFyIGVsZW0gPSB0aGlzLnRhZ1N0YWNrLnBvcCgpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLndpdGhFbmRJbmRpY2VzKSB7XG4gICAgICAgICAgICBlbGVtLmVuZEluZGV4ID0gdGhpcy5wYXJzZXIuZW5kSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudENCKVxuICAgICAgICAgICAgdGhpcy5lbGVtZW50Q0IoZWxlbSk7XG4gICAgfTtcbiAgICBEb21IYW5kbGVyLnByb3RvdHlwZS5vbm9wZW50YWcgPSBmdW5jdGlvbiAobmFtZSwgYXR0cmlicykge1xuICAgICAgICB2YXIgdHlwZSA9IHRoaXMub3B0aW9ucy54bWxNb2RlID8gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5UYWcgOiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBlbGVtZW50ID0gbmV3IG5vZGVfanNfMS5FbGVtZW50KG5hbWUsIGF0dHJpYnMsIHVuZGVmaW5lZCwgdHlwZSk7XG4gICAgICAgIHRoaXMuYWRkTm9kZShlbGVtZW50KTtcbiAgICAgICAgdGhpcy50YWdTdGFjay5wdXNoKGVsZW1lbnQpO1xuICAgIH07XG4gICAgRG9tSGFuZGxlci5wcm90b3R5cGUub250ZXh0ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGxhc3ROb2RlID0gdGhpcy5sYXN0Tm9kZTtcbiAgICAgICAgaWYgKGxhc3ROb2RlICYmIGxhc3ROb2RlLnR5cGUgPT09IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuVGV4dCkge1xuICAgICAgICAgICAgbGFzdE5vZGUuZGF0YSArPSBkYXRhO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy53aXRoRW5kSW5kaWNlcykge1xuICAgICAgICAgICAgICAgIGxhc3ROb2RlLmVuZEluZGV4ID0gdGhpcy5wYXJzZXIuZW5kSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IG5ldyBub2RlX2pzXzEuVGV4dChkYXRhKTtcbiAgICAgICAgICAgIHRoaXMuYWRkTm9kZShub2RlKTtcbiAgICAgICAgICAgIHRoaXMubGFzdE5vZGUgPSBub2RlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEb21IYW5kbGVyLnByb3RvdHlwZS5vbmNvbW1lbnQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5sYXN0Tm9kZSAmJiB0aGlzLmxhc3ROb2RlLnR5cGUgPT09IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuQ29tbWVudCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0Tm9kZS5kYXRhICs9IGRhdGE7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vZGUgPSBuZXcgbm9kZV9qc18xLkNvbW1lbnQoZGF0YSk7XG4gICAgICAgIHRoaXMuYWRkTm9kZShub2RlKTtcbiAgICAgICAgdGhpcy5sYXN0Tm9kZSA9IG5vZGU7XG4gICAgfTtcbiAgICBEb21IYW5kbGVyLnByb3RvdHlwZS5vbmNvbW1lbnRlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGFzdE5vZGUgPSBudWxsO1xuICAgIH07XG4gICAgRG9tSGFuZGxlci5wcm90b3R5cGUub25jZGF0YXN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGV4dCA9IG5ldyBub2RlX2pzXzEuVGV4dChcIlwiKTtcbiAgICAgICAgdmFyIG5vZGUgPSBuZXcgbm9kZV9qc18xLkNEQVRBKFt0ZXh0XSk7XG4gICAgICAgIHRoaXMuYWRkTm9kZShub2RlKTtcbiAgICAgICAgdGV4dC5wYXJlbnQgPSBub2RlO1xuICAgICAgICB0aGlzLmxhc3ROb2RlID0gdGV4dDtcbiAgICB9O1xuICAgIERvbUhhbmRsZXIucHJvdG90eXBlLm9uY2RhdGFlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGFzdE5vZGUgPSBudWxsO1xuICAgIH07XG4gICAgRG9tSGFuZGxlci5wcm90b3R5cGUub25wcm9jZXNzaW5naW5zdHJ1Y3Rpb24gPSBmdW5jdGlvbiAobmFtZSwgZGF0YSkge1xuICAgICAgICB2YXIgbm9kZSA9IG5ldyBub2RlX2pzXzEuUHJvY2Vzc2luZ0luc3RydWN0aW9uKG5hbWUsIGRhdGEpO1xuICAgICAgICB0aGlzLmFkZE5vZGUobm9kZSk7XG4gICAgfTtcbiAgICBEb21IYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVDYWxsYmFjayA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayhlcnJvciwgdGhpcy5kb20pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRG9tSGFuZGxlci5wcm90b3R5cGUuYWRkTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnRhZ1N0YWNrW3RoaXMudGFnU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciBwcmV2aW91c1NpYmxpbmcgPSBwYXJlbnQuY2hpbGRyZW5bcGFyZW50LmNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLndpdGhTdGFydEluZGljZXMpIHtcbiAgICAgICAgICAgIG5vZGUuc3RhcnRJbmRleCA9IHRoaXMucGFyc2VyLnN0YXJ0SW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy53aXRoRW5kSW5kaWNlcykge1xuICAgICAgICAgICAgbm9kZS5lbmRJbmRleCA9IHRoaXMucGFyc2VyLmVuZEluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICBpZiAocHJldmlvdXNTaWJsaW5nKSB7XG4gICAgICAgICAgICBub2RlLnByZXYgPSBwcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgICBwcmV2aW91c1NpYmxpbmcubmV4dCA9IG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMubGFzdE5vZGUgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIERvbUhhbmRsZXI7XG59KCkpO1xuZXhwb3J0cy5Eb21IYW5kbGVyID0gRG9tSGFuZGxlcjtcbmV4cG9ydHMuZGVmYXVsdCA9IERvbUhhbmRsZXI7XG4iXSwibmFtZXMiOlsiX19jcmVhdGVCaW5kaW5nIiwiT2JqZWN0IiwiY3JlYXRlIiwibyIsIm0iLCJrIiwiazIiLCJ1bmRlZmluZWQiLCJkZXNjIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX19lc01vZHVsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsImRlZmluZVByb3BlcnR5IiwiX19leHBvcnRTdGFyIiwiZXhwb3J0cyIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJ2YWx1ZSIsIkRvbUhhbmRsZXIiLCJkb21lbGVtZW50dHlwZV8xIiwicmVxdWlyZSIsIm5vZGVfanNfMSIsImRlZmF1bHRPcHRzIiwid2l0aFN0YXJ0SW5kaWNlcyIsIndpdGhFbmRJbmRpY2VzIiwieG1sTW9kZSIsImNhbGxiYWNrIiwib3B0aW9ucyIsImVsZW1lbnRDQiIsImRvbSIsInJvb3QiLCJEb2N1bWVudCIsImRvbmUiLCJ0YWdTdGFjayIsImxhc3ROb2RlIiwicGFyc2VyIiwib25wYXJzZXJpbml0Iiwib25yZXNldCIsIm9uZW5kIiwiaGFuZGxlQ2FsbGJhY2siLCJvbmVycm9yIiwiZXJyb3IiLCJvbmNsb3NldGFnIiwiZWxlbSIsInBvcCIsImVuZEluZGV4Iiwib25vcGVudGFnIiwibmFtZSIsImF0dHJpYnMiLCJ0eXBlIiwiRWxlbWVudFR5cGUiLCJUYWciLCJlbGVtZW50IiwiRWxlbWVudCIsImFkZE5vZGUiLCJwdXNoIiwib250ZXh0IiwiZGF0YSIsIlRleHQiLCJub2RlIiwib25jb21tZW50IiwiQ29tbWVudCIsIm9uY29tbWVudGVuZCIsIm9uY2RhdGFzdGFydCIsInRleHQiLCJDREFUQSIsInBhcmVudCIsIm9uY2RhdGFlbmQiLCJvbnByb2Nlc3NpbmdpbnN0cnVjdGlvbiIsIlByb2Nlc3NpbmdJbnN0cnVjdGlvbiIsImxlbmd0aCIsInByZXZpb3VzU2libGluZyIsImNoaWxkcmVuIiwic3RhcnRJbmRleCIsInByZXYiLCJuZXh0IiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/domhandler/lib/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/domhandler/lib/node.js":
/*!*********************************************!*\
  !*** ./node_modules/domhandler/lib/node.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = this && this.__extends || function() {\n    var extendStatics = function(d, b) {\n        extendStatics = Object.setPrototypeOf || ({\n            __proto__: []\n        }) instanceof Array && function(d, b) {\n            d.__proto__ = b;\n        } || function(d, b) {\n            for(var p in b)if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n        return extendStatics(d, b);\n    };\n    return function(d, b) {\n        if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nvar __assign = this && this.__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.cloneNode = exports.hasChildren = exports.isDocument = exports.isDirective = exports.isComment = exports.isText = exports.isCDATA = exports.isTag = exports.Element = exports.Document = exports.CDATA = exports.NodeWithChildren = exports.ProcessingInstruction = exports.Comment = exports.Text = exports.DataNode = exports.Node = void 0;\nvar domelementtype_1 = __webpack_require__(/*! domelementtype */ \"(rsc)/./node_modules/domelementtype/lib/index.js\");\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */ var Node = /** @class */ function() {\n    function Node() {\n        /** Parent of the node */ this.parent = null;\n        /** Previous sibling */ this.prev = null;\n        /** Next sibling */ this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */ this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */ this.endIndex = null;\n    }\n    Object.defineProperty(Node.prototype, \"parentNode\", {\n        // Read-write aliases for properties\n        /**\n         * Same as {@link parent}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */ get: function() {\n            return this.parent;\n        },\n        set: function(parent) {\n            this.parent = parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"previousSibling\", {\n        /**\n         * Same as {@link prev}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */ get: function() {\n            return this.prev;\n        },\n        set: function(prev) {\n            this.prev = prev;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        /**\n         * Same as {@link next}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */ get: function() {\n            return this.next;\n        },\n        set: function(next) {\n            this.next = next;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */ Node.prototype.cloneNode = function(recursive) {\n        if (recursive === void 0) {\n            recursive = false;\n        }\n        return cloneNode(this, recursive);\n    };\n    return Node;\n}();\nexports.Node = Node;\n/**\n * A node that contains some data.\n */ var DataNode = /** @class */ function(_super) {\n    __extends(DataNode, _super);\n    /**\n     * @param data The content of the data node\n     */ function DataNode(data) {\n        var _this = _super.call(this) || this;\n        _this.data = data;\n        return _this;\n    }\n    Object.defineProperty(DataNode.prototype, \"nodeValue\", {\n        /**\n         * Same as {@link data}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */ get: function() {\n            return this.data;\n        },\n        set: function(data) {\n            this.data = data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DataNode;\n}(Node);\nexports.DataNode = DataNode;\n/**\n * Text within the document.\n */ var Text = /** @class */ function(_super) {\n    __extends(Text, _super);\n    function Text() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Text;\n        return _this;\n    }\n    Object.defineProperty(Text.prototype, \"nodeType\", {\n        get: function() {\n            return 3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Text;\n}(DataNode);\nexports.Text = Text;\n/**\n * Comments within the document.\n */ var Comment = /** @class */ function(_super) {\n    __extends(Comment, _super);\n    function Comment() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Comment;\n        return _this;\n    }\n    Object.defineProperty(Comment.prototype, \"nodeType\", {\n        get: function() {\n            return 8;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Comment;\n}(DataNode);\nexports.Comment = Comment;\n/**\n * Processing instructions, including doc types.\n */ var ProcessingInstruction = /** @class */ function(_super) {\n    __extends(ProcessingInstruction, _super);\n    function ProcessingInstruction(name, data) {\n        var _this = _super.call(this, data) || this;\n        _this.name = name;\n        _this.type = domelementtype_1.ElementType.Directive;\n        return _this;\n    }\n    Object.defineProperty(ProcessingInstruction.prototype, \"nodeType\", {\n        get: function() {\n            return 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ProcessingInstruction;\n}(DataNode);\nexports.ProcessingInstruction = ProcessingInstruction;\n/**\n * A `Node` that can have children.\n */ var NodeWithChildren = /** @class */ function(_super) {\n    __extends(NodeWithChildren, _super);\n    /**\n     * @param children Children of the node. Only certain node types can have children.\n     */ function NodeWithChildren(children) {\n        var _this = _super.call(this) || this;\n        _this.children = children;\n        return _this;\n    }\n    Object.defineProperty(NodeWithChildren.prototype, \"firstChild\", {\n        // Aliases\n        /** First child of the node. */ get: function() {\n            var _a;\n            return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"lastChild\", {\n        /** Last child of the node. */ get: function() {\n            return this.children.length > 0 ? this.children[this.children.length - 1] : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"childNodes\", {\n        /**\n         * Same as {@link children}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */ get: function() {\n            return this.children;\n        },\n        set: function(children) {\n            this.children = children;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NodeWithChildren;\n}(Node);\nexports.NodeWithChildren = NodeWithChildren;\nvar CDATA = /** @class */ function(_super) {\n    __extends(CDATA, _super);\n    function CDATA() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.CDATA;\n        return _this;\n    }\n    Object.defineProperty(CDATA.prototype, \"nodeType\", {\n        get: function() {\n            return 4;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CDATA;\n}(NodeWithChildren);\nexports.CDATA = CDATA;\n/**\n * The root node of the document.\n */ var Document = /** @class */ function(_super) {\n    __extends(Document, _super);\n    function Document() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Root;\n        return _this;\n    }\n    Object.defineProperty(Document.prototype, \"nodeType\", {\n        get: function() {\n            return 9;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Document;\n}(NodeWithChildren);\nexports.Document = Document;\n/**\n * An element within the DOM.\n */ var Element = /** @class */ function(_super) {\n    __extends(Element, _super);\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */ function Element(name, attribs, children, type) {\n        if (children === void 0) {\n            children = [];\n        }\n        if (type === void 0) {\n            type = name === \"script\" ? domelementtype_1.ElementType.Script : name === \"style\" ? domelementtype_1.ElementType.Style : domelementtype_1.ElementType.Tag;\n        }\n        var _this = _super.call(this, children) || this;\n        _this.name = name;\n        _this.attribs = attribs;\n        _this.type = type;\n        return _this;\n    }\n    Object.defineProperty(Element.prototype, \"nodeType\", {\n        get: function() {\n            return 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"tagName\", {\n        // DOM Level 1 aliases\n        /**\n         * Same as {@link name}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */ get: function() {\n            return this.name;\n        },\n        set: function(name) {\n            this.name = name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"attributes\", {\n        get: function() {\n            var _this = this;\n            return Object.keys(this.attribs).map(function(name) {\n                var _a, _b;\n                return {\n                    name: name,\n                    value: _this.attribs[name],\n                    namespace: (_a = _this[\"x-attribsNamespace\"]) === null || _a === void 0 ? void 0 : _a[name],\n                    prefix: (_b = _this[\"x-attribsPrefix\"]) === null || _b === void 0 ? void 0 : _b[name]\n                };\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Element;\n}(NodeWithChildren);\nexports.Element = Element;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `Element`, `false` otherwise.\n */ function isTag(node) {\n    return (0, domelementtype_1.isTag)(node);\n}\nexports.isTag = isTag;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `CDATA`, `false` otherwise.\n */ function isCDATA(node) {\n    return node.type === domelementtype_1.ElementType.CDATA;\n}\nexports.isCDATA = isCDATA;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Text`, `false` otherwise.\n */ function isText(node) {\n    return node.type === domelementtype_1.ElementType.Text;\n}\nexports.isText = isText;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Comment`, `false` otherwise.\n */ function isComment(node) {\n    return node.type === domelementtype_1.ElementType.Comment;\n}\nexports.isComment = isComment;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */ function isDirective(node) {\n    return node.type === domelementtype_1.ElementType.Directive;\n}\nexports.isDirective = isDirective;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */ function isDocument(node) {\n    return node.type === domelementtype_1.ElementType.Root;\n}\nexports.isDocument = isDocument;\n/**\n * @param node Node to check.\n * @returns `true` if the node has children, `false` otherwise.\n */ function hasChildren(node) {\n    return Object.prototype.hasOwnProperty.call(node, \"children\");\n}\nexports.hasChildren = hasChildren;\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */ function cloneNode(node, recursive) {\n    if (recursive === void 0) {\n        recursive = false;\n    }\n    var result;\n    if (isText(node)) {\n        result = new Text(node.data);\n    } else if (isComment(node)) {\n        result = new Comment(node.data);\n    } else if (isTag(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_1 = new Element(node.name, __assign({}, node.attribs), children);\n        children.forEach(function(child) {\n            return child.parent = clone_1;\n        });\n        if (node.namespace != null) {\n            clone_1.namespace = node.namespace;\n        }\n        if (node[\"x-attribsNamespace\"]) {\n            clone_1[\"x-attribsNamespace\"] = __assign({}, node[\"x-attribsNamespace\"]);\n        }\n        if (node[\"x-attribsPrefix\"]) {\n            clone_1[\"x-attribsPrefix\"] = __assign({}, node[\"x-attribsPrefix\"]);\n        }\n        result = clone_1;\n    } else if (isCDATA(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_2 = new CDATA(children);\n        children.forEach(function(child) {\n            return child.parent = clone_2;\n        });\n        result = clone_2;\n    } else if (isDocument(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_3 = new Document(children);\n        children.forEach(function(child) {\n            return child.parent = clone_3;\n        });\n        if (node[\"x-mode\"]) {\n            clone_3[\"x-mode\"] = node[\"x-mode\"];\n        }\n        result = clone_3;\n    } else if (isDirective(node)) {\n        var instruction = new ProcessingInstruction(node.name, node.data);\n        if (node[\"x-name\"] != null) {\n            instruction[\"x-name\"] = node[\"x-name\"];\n            instruction[\"x-publicId\"] = node[\"x-publicId\"];\n            instruction[\"x-systemId\"] = node[\"x-systemId\"];\n        }\n        result = instruction;\n    } else {\n        throw new Error(\"Not implemented yet: \".concat(node.type));\n    }\n    result.startIndex = node.startIndex;\n    result.endIndex = node.endIndex;\n    if (node.sourceCodeLocation != null) {\n        result.sourceCodeLocation = node.sourceCodeLocation;\n    }\n    return result;\n}\nexports.cloneNode = cloneNode;\nfunction cloneChildren(childs) {\n    var children = childs.map(function(child) {\n        return cloneNode(child, true);\n    });\n    for(var i = 1; i < children.length; i++){\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZG9taGFuZGxlci9saWIvbm9kZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLElBQUlBLFlBQVksSUFBSyxJQUFJLElBQUksQ0FBQ0EsU0FBUyxJQUFLO0lBQ3hDLElBQUlDLGdCQUFnQixTQUFVQyxDQUFDLEVBQUVDLENBQUM7UUFDOUJGLGdCQUFnQkcsT0FBT0MsY0FBYyxJQUNoQztZQUFFQyxXQUFXLEVBQUU7UUFBQyxjQUFhQyxTQUFTLFNBQVVMLENBQUMsRUFBRUMsQ0FBQztZQUFJRCxFQUFFSSxTQUFTLEdBQUdIO1FBQUcsS0FDMUUsU0FBVUQsQ0FBQyxFQUFFQyxDQUFDO1lBQUksSUFBSyxJQUFJSyxLQUFLTCxFQUFHLElBQUlDLE9BQU9LLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDQyxJQUFJLENBQUNSLEdBQUdLLElBQUlOLENBQUMsQ0FBQ00sRUFBRSxHQUFHTCxDQUFDLENBQUNLLEVBQUU7UUFBRTtRQUNwRyxPQUFPUCxjQUFjQyxHQUFHQztJQUM1QjtJQUNBLE9BQU8sU0FBVUQsQ0FBQyxFQUFFQyxDQUFDO1FBQ2pCLElBQUksT0FBT0EsTUFBTSxjQUFjQSxNQUFNLE1BQ2pDLE1BQU0sSUFBSVMsVUFBVSx5QkFBeUJDLE9BQU9WLEtBQUs7UUFDN0RGLGNBQWNDLEdBQUdDO1FBQ2pCLFNBQVNXO1lBQU8sSUFBSSxDQUFDQyxXQUFXLEdBQUdiO1FBQUc7UUFDdENBLEVBQUVPLFNBQVMsR0FBR04sTUFBTSxPQUFPQyxPQUFPWSxNQUFNLENBQUNiLEtBQU1XLENBQUFBLEdBQUdMLFNBQVMsR0FBR04sRUFBRU0sU0FBUyxFQUFFLElBQUlLLElBQUc7SUFDdEY7QUFDSjtBQUNBLElBQUlHLFdBQVcsSUFBSyxJQUFJLElBQUksQ0FBQ0EsUUFBUSxJQUFLO0lBQ3RDQSxXQUFXYixPQUFPYyxNQUFNLElBQUksU0FBU0MsQ0FBQztRQUNsQyxJQUFLLElBQUlDLEdBQUdDLElBQUksR0FBR0MsSUFBSUMsVUFBVUMsTUFBTSxFQUFF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S0FBS2QsSUFBSSxFQUFFYyxLQUFLbEIsSUFBSTtRQUNoRSxJQUFJa0IsSUFBSSxDQUFDLFNBQVMsSUFBSSxNQUFNO1lBQ3hCUSxXQUFXLENBQUMsU0FBUyxHQUFHUixJQUFJLENBQUMsU0FBUztZQUN0Q1EsV0FBVyxDQUFDLGFBQWEsR0FBR1IsSUFBSSxDQUFDLGFBQWE7WUFDOUNRLFdBQVcsQ0FBQyxhQUFhLEdBQUdSLElBQUksQ0FBQyxhQUFhO1FBQ2xEO1FBQ0FDLFNBQVNPO0lBQ2IsT0FDSztRQUNELE1BQU0sSUFBSUMsTUFBTSx3QkFBd0JDLE1BQU0sQ0FBQ1YsS0FBS2hCLElBQUk7SUFDNUQ7SUFDQWlCLE9BQU8zQixVQUFVLEdBQUcwQixLQUFLMUIsVUFBVTtJQUNuQzJCLE9BQU8xQixRQUFRLEdBQUd5QixLQUFLekIsUUFBUTtJQUMvQixJQUFJeUIsS0FBS1csa0JBQWtCLElBQUksTUFBTTtRQUNqQ1YsT0FBT1Usa0JBQWtCLEdBQUdYLEtBQUtXLGtCQUFrQjtJQUN2RDtJQUNBLE9BQU9WO0FBQ1g7QUFDQW5ELGlCQUFpQixHQUFHRTtBQUNwQixTQUFTa0QsY0FBY1UsTUFBTTtJQUN6QixJQUFJeEIsV0FBV3dCLE9BQU9oQixHQUFHLENBQUMsU0FBVVMsS0FBSztRQUFJLE9BQU9yRCxVQUFVcUQsT0FBTztJQUFPO0lBQzVFLElBQUssSUFBSTdELElBQUksR0FBR0EsSUFBSTRDLFNBQVN6QyxNQUFNLEVBQUVILElBQUs7UUFDdEM0QyxRQUFRLENBQUM1QyxFQUFFLENBQUM0QixJQUFJLEdBQUdnQixRQUFRLENBQUM1QyxJQUFJLEVBQUU7UUFDbEM0QyxRQUFRLENBQUM1QyxJQUFJLEVBQUUsQ0FBQzZCLElBQUksR0FBR2UsUUFBUSxDQUFDNUMsRUFBRTtJQUN0QztJQUNBLE9BQU80QztBQUNYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1ibG9nLy4vbm9kZV9tb2R1bGVzL2RvbWhhbmRsZXIvbGliL25vZGUuanM/MmEzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jbG9uZU5vZGUgPSBleHBvcnRzLmhhc0NoaWxkcmVuID0gZXhwb3J0cy5pc0RvY3VtZW50ID0gZXhwb3J0cy5pc0RpcmVjdGl2ZSA9IGV4cG9ydHMuaXNDb21tZW50ID0gZXhwb3J0cy5pc1RleHQgPSBleHBvcnRzLmlzQ0RBVEEgPSBleHBvcnRzLmlzVGFnID0gZXhwb3J0cy5FbGVtZW50ID0gZXhwb3J0cy5Eb2N1bWVudCA9IGV4cG9ydHMuQ0RBVEEgPSBleHBvcnRzLk5vZGVXaXRoQ2hpbGRyZW4gPSBleHBvcnRzLlByb2Nlc3NpbmdJbnN0cnVjdGlvbiA9IGV4cG9ydHMuQ29tbWVudCA9IGV4cG9ydHMuVGV4dCA9IGV4cG9ydHMuRGF0YU5vZGUgPSBleHBvcnRzLk5vZGUgPSB2b2lkIDA7XG52YXIgZG9tZWxlbWVudHR5cGVfMSA9IHJlcXVpcmUoXCJkb21lbGVtZW50dHlwZVwiKTtcbi8qKlxuICogVGhpcyBvYmplY3Qgd2lsbCBiZSB1c2VkIGFzIHRoZSBwcm90b3R5cGUgZm9yIE5vZGVzIHdoZW4gY3JlYXRpbmcgYVxuICogRE9NLUxldmVsLTEtY29tcGxpYW50IHN0cnVjdHVyZS5cbiAqL1xudmFyIE5vZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9kZSgpIHtcbiAgICAgICAgLyoqIFBhcmVudCBvZiB0aGUgbm9kZSAqL1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIC8qKiBQcmV2aW91cyBzaWJsaW5nICovXG4gICAgICAgIHRoaXMucHJldiA9IG51bGw7XG4gICAgICAgIC8qKiBOZXh0IHNpYmxpbmcgKi9cbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqIFRoZSBzdGFydCBpbmRleCBvZiB0aGUgbm9kZS4gUmVxdWlyZXMgYHdpdGhTdGFydEluZGljZXNgIG9uIHRoZSBoYW5kbGVyIHRvIGJlIGB0cnVlLiAqL1xuICAgICAgICB0aGlzLnN0YXJ0SW5kZXggPSBudWxsO1xuICAgICAgICAvKiogVGhlIGVuZCBpbmRleCBvZiB0aGUgbm9kZS4gUmVxdWlyZXMgYHdpdGhFbmRJbmRpY2VzYCBvbiB0aGUgaGFuZGxlciB0byBiZSBgdHJ1ZS4gKi9cbiAgICAgICAgdGhpcy5lbmRJbmRleCA9IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlLnByb3RvdHlwZSwgXCJwYXJlbnROb2RlXCIsIHtcbiAgICAgICAgLy8gUmVhZC13cml0ZSBhbGlhc2VzIGZvciBwcm9wZXJ0aWVzXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYW1lIGFzIHtAbGluayBwYXJlbnR9LlxuICAgICAgICAgKiBbRE9NIHNwZWNdKGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZyktY29tcGF0aWJsZSBhbGlhcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGUucHJvdG90eXBlLCBcInByZXZpb3VzU2libGluZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYW1lIGFzIHtAbGluayBwcmV2fS5cbiAgICAgICAgICogW0RPTSBzcGVjXShodHRwczovL2RvbS5zcGVjLndoYXR3Zy5vcmcpLWNvbXBhdGlibGUgYWxpYXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXY7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHByZXYpIHtcbiAgICAgICAgICAgIHRoaXMucHJldiA9IHByZXY7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZS5wcm90b3R5cGUsIFwibmV4dFNpYmxpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB7QGxpbmsgbmV4dH0uXG4gICAgICAgICAqIFtET00gc3BlY10oaHR0cHM6Ly9kb20uc3BlYy53aGF0d2cub3JnKS1jb21wYXRpYmxlIGFsaWFzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICAgICAgICB0aGlzLm5leHQgPSBuZXh0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ2xvbmUgdGhpcyBub2RlLCBhbmQgb3B0aW9uYWxseSBpdHMgY2hpbGRyZW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVjdXJzaXZlIENsb25lIGNoaWxkIG5vZGVzIGFzIHdlbGwuXG4gICAgICogQHJldHVybnMgQSBjbG9uZSBvZiB0aGUgbm9kZS5cbiAgICAgKi9cbiAgICBOb2RlLnByb3RvdHlwZS5jbG9uZU5vZGUgPSBmdW5jdGlvbiAocmVjdXJzaXZlKSB7XG4gICAgICAgIGlmIChyZWN1cnNpdmUgPT09IHZvaWQgMCkgeyByZWN1cnNpdmUgPSBmYWxzZTsgfVxuICAgICAgICByZXR1cm4gY2xvbmVOb2RlKHRoaXMsIHJlY3Vyc2l2ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gTm9kZTtcbn0oKSk7XG5leHBvcnRzLk5vZGUgPSBOb2RlO1xuLyoqXG4gKiBBIG5vZGUgdGhhdCBjb250YWlucyBzb21lIGRhdGEuXG4gKi9cbnZhciBEYXRhTm9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGF0YU5vZGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGRhdGEgVGhlIGNvbnRlbnQgb2YgdGhlIGRhdGEgbm9kZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERhdGFOb2RlKGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGFOb2RlLnByb3RvdHlwZSwgXCJub2RlVmFsdWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB7QGxpbmsgZGF0YX0uXG4gICAgICAgICAqIFtET00gc3BlY10oaHR0cHM6Ly9kb20uc3BlYy53aGF0d2cub3JnKS1jb21wYXRpYmxlIGFsaWFzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERhdGFOb2RlO1xufShOb2RlKSk7XG5leHBvcnRzLkRhdGFOb2RlID0gRGF0YU5vZGU7XG4vKipcbiAqIFRleHQgd2l0aGluIHRoZSBkb2N1bWVudC5cbiAqL1xudmFyIFRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRleHQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGV4dCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLlRleHQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcIm5vZGVUeXBlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gMztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBUZXh0O1xufShEYXRhTm9kZSkpO1xuZXhwb3J0cy5UZXh0ID0gVGV4dDtcbi8qKlxuICogQ29tbWVudHMgd2l0aGluIHRoZSBkb2N1bWVudC5cbiAqL1xudmFyIENvbW1lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbW1lbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29tbWVudCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLkNvbW1lbnQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbW1lbnQucHJvdG90eXBlLCBcIm5vZGVUeXBlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gODtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDb21tZW50O1xufShEYXRhTm9kZSkpO1xuZXhwb3J0cy5Db21tZW50ID0gQ29tbWVudDtcbi8qKlxuICogUHJvY2Vzc2luZyBpbnN0cnVjdGlvbnMsIGluY2x1ZGluZyBkb2MgdHlwZXMuXG4gKi9cbnZhciBQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByb2Nlc3NpbmdJbnN0cnVjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24obmFtZSwgZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkYXRhKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgX3RoaXMudHlwZSA9IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuRGlyZWN0aXZlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24ucHJvdG90eXBlLCBcIm5vZGVUeXBlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBQcm9jZXNzaW5nSW5zdHJ1Y3Rpb247XG59KERhdGFOb2RlKSk7XG5leHBvcnRzLlByb2Nlc3NpbmdJbnN0cnVjdGlvbiA9IFByb2Nlc3NpbmdJbnN0cnVjdGlvbjtcbi8qKlxuICogQSBgTm9kZWAgdGhhdCBjYW4gaGF2ZSBjaGlsZHJlbi5cbiAqL1xudmFyIE5vZGVXaXRoQ2hpbGRyZW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE5vZGVXaXRoQ2hpbGRyZW4sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNoaWxkcmVuIENoaWxkcmVuIG9mIHRoZSBub2RlLiBPbmx5IGNlcnRhaW4gbm9kZSB0eXBlcyBjYW4gaGF2ZSBjaGlsZHJlbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOb2RlV2l0aENoaWxkcmVuKGNoaWxkcmVuKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVXaXRoQ2hpbGRyZW4ucHJvdG90eXBlLCBcImZpcnN0Q2hpbGRcIiwge1xuICAgICAgICAvLyBBbGlhc2VzXG4gICAgICAgIC8qKiBGaXJzdCBjaGlsZCBvZiB0aGUgbm9kZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5jaGlsZHJlblswXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlV2l0aENoaWxkcmVuLnByb3RvdHlwZSwgXCJsYXN0Q2hpbGRcIiwge1xuICAgICAgICAvKiogTGFzdCBjaGlsZCBvZiB0aGUgbm9kZS4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgPyB0aGlzLmNoaWxkcmVuW3RoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMV1cbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZVdpdGhDaGlsZHJlbi5wcm90b3R5cGUsIFwiY2hpbGROb2Rlc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYW1lIGFzIHtAbGluayBjaGlsZHJlbn0uXG4gICAgICAgICAqIFtET00gc3BlY10oaHR0cHM6Ly9kb20uc3BlYy53aGF0d2cub3JnKS1jb21wYXRpYmxlIGFsaWFzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBOb2RlV2l0aENoaWxkcmVuO1xufShOb2RlKSk7XG5leHBvcnRzLk5vZGVXaXRoQ2hpbGRyZW4gPSBOb2RlV2l0aENoaWxkcmVuO1xudmFyIENEQVRBID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDREFUQSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDREFUQSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnR5cGUgPSBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLkNEQVRBO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDREFUQS5wcm90b3R5cGUsIFwibm9kZVR5cGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiA0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENEQVRBO1xufShOb2RlV2l0aENoaWxkcmVuKSk7XG5leHBvcnRzLkNEQVRBID0gQ0RBVEE7XG4vKipcbiAqIFRoZSByb290IG5vZGUgb2YgdGhlIGRvY3VtZW50LlxuICovXG52YXIgRG9jdW1lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERvY3VtZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERvY3VtZW50KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudHlwZSA9IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuUm9vdDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRG9jdW1lbnQucHJvdG90eXBlLCBcIm5vZGVUeXBlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gOTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBEb2N1bWVudDtcbn0oTm9kZVdpdGhDaGlsZHJlbikpO1xuZXhwb3J0cy5Eb2N1bWVudCA9IERvY3VtZW50O1xuLyoqXG4gKiBBbiBlbGVtZW50IHdpdGhpbiB0aGUgRE9NLlxuICovXG52YXIgRWxlbWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRWxlbWVudCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSB0YWcsIGVnLiBgZGl2YCwgYHNwYW5gLlxuICAgICAqIEBwYXJhbSBhdHRyaWJzIE9iamVjdCBtYXBwaW5nIGF0dHJpYnV0ZSBuYW1lcyB0byBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSBjaGlsZHJlbiBDaGlsZHJlbiBvZiB0aGUgbm9kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFbGVtZW50KG5hbWUsIGF0dHJpYnMsIGNoaWxkcmVuLCB0eXBlKSB7XG4gICAgICAgIGlmIChjaGlsZHJlbiA9PT0gdm9pZCAwKSB7IGNoaWxkcmVuID0gW107IH1cbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gbmFtZSA9PT0gXCJzY3JpcHRcIlxuICAgICAgICAgICAgPyBkb21lbGVtZW50dHlwZV8xLkVsZW1lbnRUeXBlLlNjcmlwdFxuICAgICAgICAgICAgOiBuYW1lID09PSBcInN0eWxlXCJcbiAgICAgICAgICAgICAgICA/IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuU3R5bGVcbiAgICAgICAgICAgICAgICA6IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuVGFnOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNoaWxkcmVuKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgX3RoaXMuYXR0cmlicyA9IGF0dHJpYnM7XG4gICAgICAgIF90aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbGVtZW50LnByb3RvdHlwZSwgXCJub2RlVHlwZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudC5wcm90b3R5cGUsIFwidGFnTmFtZVwiLCB7XG4gICAgICAgIC8vIERPTSBMZXZlbCAxIGFsaWFzZXNcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNhbWUgYXMge0BsaW5rIG5hbWV9LlxuICAgICAgICAgKiBbRE9NIHNwZWNdKGh0dHBzOi8vZG9tLnNwZWMud2hhdHdnLm9yZyktY29tcGF0aWJsZSBhbGlhcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbGVtZW50LnByb3RvdHlwZSwgXCJhdHRyaWJ1dGVzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuYXR0cmlicykubWFwKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF90aGlzLmF0dHJpYnNbbmFtZV0sXG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZTogKF9hID0gX3RoaXNbXCJ4LWF0dHJpYnNOYW1lc3BhY2VcIl0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtuYW1lXSxcbiAgICAgICAgICAgICAgICAgICAgcHJlZml4OiAoX2IgPSBfdGhpc1tcIngtYXR0cmlic1ByZWZpeFwiXSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iW25hbWVdLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRWxlbWVudDtcbn0oTm9kZVdpdGhDaGlsZHJlbikpO1xuZXhwb3J0cy5FbGVtZW50ID0gRWxlbWVudDtcbi8qKlxuICogQHBhcmFtIG5vZGUgTm9kZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbm9kZSBpcyBhIGBFbGVtZW50YCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGlzVGFnKG5vZGUpIHtcbiAgICByZXR1cm4gKDAsIGRvbWVsZW1lbnR0eXBlXzEuaXNUYWcpKG5vZGUpO1xufVxuZXhwb3J0cy5pc1RhZyA9IGlzVGFnO1xuLyoqXG4gKiBAcGFyYW0gbm9kZSBOb2RlIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBub2RlIGhhcyB0aGUgdHlwZSBgQ0RBVEFgLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqL1xuZnVuY3Rpb24gaXNDREFUQShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUudHlwZSA9PT0gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5DREFUQTtcbn1cbmV4cG9ydHMuaXNDREFUQSA9IGlzQ0RBVEE7XG4vKipcbiAqIEBwYXJhbSBub2RlIE5vZGUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG5vZGUgaGFzIHRoZSB0eXBlIGBUZXh0YCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGlzVGV4dChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUudHlwZSA9PT0gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5UZXh0O1xufVxuZXhwb3J0cy5pc1RleHQgPSBpc1RleHQ7XG4vKipcbiAqIEBwYXJhbSBub2RlIE5vZGUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG5vZGUgaGFzIHRoZSB0eXBlIGBDb21tZW50YCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGlzQ29tbWVudChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUudHlwZSA9PT0gZG9tZWxlbWVudHR5cGVfMS5FbGVtZW50VHlwZS5Db21tZW50O1xufVxuZXhwb3J0cy5pc0NvbW1lbnQgPSBpc0NvbW1lbnQ7XG4vKipcbiAqIEBwYXJhbSBub2RlIE5vZGUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG5vZGUgaGFzIHRoZSB0eXBlIGBQcm9jZXNzaW5nSW5zdHJ1Y3Rpb25gLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqL1xuZnVuY3Rpb24gaXNEaXJlY3RpdmUobm9kZSkge1xuICAgIHJldHVybiBub2RlLnR5cGUgPT09IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuRGlyZWN0aXZlO1xufVxuZXhwb3J0cy5pc0RpcmVjdGl2ZSA9IGlzRGlyZWN0aXZlO1xuLyoqXG4gKiBAcGFyYW0gbm9kZSBOb2RlIHRvIGNoZWNrLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBub2RlIGhhcyB0aGUgdHlwZSBgUHJvY2Vzc2luZ0luc3RydWN0aW9uYCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGlzRG9jdW1lbnQobm9kZSkge1xuICAgIHJldHVybiBub2RlLnR5cGUgPT09IGRvbWVsZW1lbnR0eXBlXzEuRWxlbWVudFR5cGUuUm9vdDtcbn1cbmV4cG9ydHMuaXNEb2N1bWVudCA9IGlzRG9jdW1lbnQ7XG4vKipcbiAqIEBwYXJhbSBub2RlIE5vZGUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG5vZGUgaGFzIGNoaWxkcmVuLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqL1xuZnVuY3Rpb24gaGFzQ2hpbGRyZW4obm9kZSkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobm9kZSwgXCJjaGlsZHJlblwiKTtcbn1cbmV4cG9ydHMuaGFzQ2hpbGRyZW4gPSBoYXNDaGlsZHJlbjtcbi8qKlxuICogQ2xvbmUgYSBub2RlLCBhbmQgb3B0aW9uYWxseSBpdHMgY2hpbGRyZW4uXG4gKlxuICogQHBhcmFtIHJlY3Vyc2l2ZSBDbG9uZSBjaGlsZCBub2RlcyBhcyB3ZWxsLlxuICogQHJldHVybnMgQSBjbG9uZSBvZiB0aGUgbm9kZS5cbiAqL1xuZnVuY3Rpb24gY2xvbmVOb2RlKG5vZGUsIHJlY3Vyc2l2ZSkge1xuICAgIGlmIChyZWN1cnNpdmUgPT09IHZvaWQgMCkgeyByZWN1cnNpdmUgPSBmYWxzZTsgfVxuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKGlzVGV4dChub2RlKSkge1xuICAgICAgICByZXN1bHQgPSBuZXcgVGV4dChub2RlLmRhdGEpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0NvbW1lbnQobm9kZSkpIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IENvbW1lbnQobm9kZS5kYXRhKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNUYWcobm9kZSkpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gcmVjdXJzaXZlID8gY2xvbmVDaGlsZHJlbihub2RlLmNoaWxkcmVuKSA6IFtdO1xuICAgICAgICB2YXIgY2xvbmVfMSA9IG5ldyBFbGVtZW50KG5vZGUubmFtZSwgX19hc3NpZ24oe30sIG5vZGUuYXR0cmlicyksIGNoaWxkcmVuKTtcbiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIChjaGlsZC5wYXJlbnQgPSBjbG9uZV8xKTsgfSk7XG4gICAgICAgIGlmIChub2RlLm5hbWVzcGFjZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjbG9uZV8xLm5hbWVzcGFjZSA9IG5vZGUubmFtZXNwYWNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlW1wieC1hdHRyaWJzTmFtZXNwYWNlXCJdKSB7XG4gICAgICAgICAgICBjbG9uZV8xW1wieC1hdHRyaWJzTmFtZXNwYWNlXCJdID0gX19hc3NpZ24oe30sIG5vZGVbXCJ4LWF0dHJpYnNOYW1lc3BhY2VcIl0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlW1wieC1hdHRyaWJzUHJlZml4XCJdKSB7XG4gICAgICAgICAgICBjbG9uZV8xW1wieC1hdHRyaWJzUHJlZml4XCJdID0gX19hc3NpZ24oe30sIG5vZGVbXCJ4LWF0dHJpYnNQcmVmaXhcIl0pO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGNsb25lXzE7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQ0RBVEEobm9kZSkpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gcmVjdXJzaXZlID8gY2xvbmVDaGlsZHJlbihub2RlLmNoaWxkcmVuKSA6IFtdO1xuICAgICAgICB2YXIgY2xvbmVfMiA9IG5ldyBDREFUQShjaGlsZHJlbik7XG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7IHJldHVybiAoY2hpbGQucGFyZW50ID0gY2xvbmVfMik7IH0pO1xuICAgICAgICByZXN1bHQgPSBjbG9uZV8yO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0RvY3VtZW50KG5vZGUpKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHJlY3Vyc2l2ZSA/IGNsb25lQ2hpbGRyZW4obm9kZS5jaGlsZHJlbikgOiBbXTtcbiAgICAgICAgdmFyIGNsb25lXzMgPSBuZXcgRG9jdW1lbnQoY2hpbGRyZW4pO1xuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkgeyByZXR1cm4gKGNoaWxkLnBhcmVudCA9IGNsb25lXzMpOyB9KTtcbiAgICAgICAgaWYgKG5vZGVbXCJ4LW1vZGVcIl0pIHtcbiAgICAgICAgICAgIGNsb25lXzNbXCJ4LW1vZGVcIl0gPSBub2RlW1wieC1tb2RlXCJdO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGNsb25lXzM7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzRGlyZWN0aXZlKG5vZGUpKSB7XG4gICAgICAgIHZhciBpbnN0cnVjdGlvbiA9IG5ldyBQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24obm9kZS5uYW1lLCBub2RlLmRhdGEpO1xuICAgICAgICBpZiAobm9kZVtcIngtbmFtZVwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbltcIngtbmFtZVwiXSA9IG5vZGVbXCJ4LW5hbWVcIl07XG4gICAgICAgICAgICBpbnN0cnVjdGlvbltcIngtcHVibGljSWRcIl0gPSBub2RlW1wieC1wdWJsaWNJZFwiXTtcbiAgICAgICAgICAgIGluc3RydWN0aW9uW1wieC1zeXN0ZW1JZFwiXSA9IG5vZGVbXCJ4LXN5c3RlbUlkXCJdO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGluc3RydWN0aW9uO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkIHlldDogXCIuY29uY2F0KG5vZGUudHlwZSkpO1xuICAgIH1cbiAgICByZXN1bHQuc3RhcnRJbmRleCA9IG5vZGUuc3RhcnRJbmRleDtcbiAgICByZXN1bHQuZW5kSW5kZXggPSBub2RlLmVuZEluZGV4O1xuICAgIGlmIChub2RlLnNvdXJjZUNvZGVMb2NhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIHJlc3VsdC5zb3VyY2VDb2RlTG9jYXRpb24gPSBub2RlLnNvdXJjZUNvZGVMb2NhdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMuY2xvbmVOb2RlID0gY2xvbmVOb2RlO1xuZnVuY3Rpb24gY2xvbmVDaGlsZHJlbihjaGlsZHMpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBjaGlsZHMubWFwKGZ1bmN0aW9uIChjaGlsZCkgeyByZXR1cm4gY2xvbmVOb2RlKGNoaWxkLCB0cnVlKTsgfSk7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjaGlsZHJlbltpXS5wcmV2ID0gY2hpbGRyZW5baSAtIDFdO1xuICAgICAgICBjaGlsZHJlbltpIC0gMV0ubmV4dCA9IGNoaWxkcmVuW2ldO1xuICAgIH1cbiAgICByZXR1cm4gY2hpbGRyZW47XG59XG4iXSwibmFtZXMiOlsiX19leHRlbmRzIiwiZXh0ZW5kU3RhdGljcyIsImQiLCJiIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJUeXBlRXJyb3IiLCJTdHJpbmciLCJfXyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiX19hc3NpZ24iLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXBwbHkiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNsb25lTm9kZSIsImhhc0NoaWxkcmVuIiwiaXNEb2N1bWVudCIsImlzRGlyZWN0aXZlIiwiaXNDb21tZW50IiwiaXNUZXh0IiwiaXNDREFUQSIsImlzVGFnIiwiRWxlbWVudCIsIkRvY3VtZW50IiwiQ0RBVEEiLCJOb2RlV2l0aENoaWxkcmVuIiwiUHJvY2Vzc2luZ0luc3RydWN0aW9uIiwiQ29tbWVudCIsIlRleHQiLCJEYXRhTm9kZSIsIk5vZGUiLCJkb21lbGVtZW50dHlwZV8xIiwicmVxdWlyZSIsInBhcmVudCIsInByZXYiLCJuZXh0Iiwic3RhcnRJbmRleCIsImVuZEluZGV4IiwiZ2V0Iiwic2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsInJlY3Vyc2l2ZSIsIl9zdXBlciIsImRhdGEiLCJfdGhpcyIsInR5cGUiLCJFbGVtZW50VHlwZSIsIm5hbWUiLCJEaXJlY3RpdmUiLCJjaGlsZHJlbiIsIl9hIiwiUm9vdCIsImF0dHJpYnMiLCJTY3JpcHQiLCJTdHlsZSIsIlRhZyIsImtleXMiLCJtYXAiLCJfYiIsIm5hbWVzcGFjZSIsInByZWZpeCIsIm5vZGUiLCJyZXN1bHQiLCJjbG9uZUNoaWxkcmVuIiwiY2xvbmVfMSIsImZvckVhY2giLCJjaGlsZCIsImNsb25lXzIiLCJjbG9uZV8zIiwiaW5zdHJ1Y3Rpb24iLCJFcnJvciIsImNvbmNhdCIsInNvdXJjZUNvZGVMb2NhdGlvbiIsImNoaWxkcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/domhandler/lib/node.js\n");

/***/ })

};
;